<div class="edit-profile-container">
  <div class="profile-header">
    <h2>Mes informations personnelles</h2>
    <p class="header-subtitle">Modifiez vos informations de compte ci-dessous</p>
  </div>

  <div class="profile-card">
    <div class="profile-left">
      <div class="profile-picture-wrapper">
        <img
          [src]="imageUrl || 'https://i.pinimg.com/736x/12/d5/91/12d5916f5595f1fc53407813d2170a8c.jpg'"
          alt="Profile Image"
          class="profile-picture-large"
        />
        <label class="camera-icon" matTooltip="Choisir une image">
          <input type="file" (change)="onFileSelected($event)" accept="image/*" hidden>
          <mat-icon>photo_camera</mat-icon>
        </label>
      </div>
    </div>

    <div class="profile-right">
      <form [formGroup]="editForm" (ngSubmit)="onSubmit()" class="profile-form">
        <div class="form-group">
          <label>Nom</label>
          <input type="text" formControlName="surname" required />
        </div>

        <div class="form-group">
          <label>Pr√©nom</label>
          <input type="text" formControlName="name" required />
        </div>

        <div class="form-group">
          <label>Nom d'utilisateur</label>
          <input type="text" formControlName="username" required />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" formControlName="email" required />
        </div>

        <button type="button" (click)="togglePasswordSection()" class="toggle-password-btn">
          {{ isPasswordSectionVisible ? 'Masquer' : 'Changer le mot de passe' }}
        </button>

        @if (isPasswordSectionVisible) {
          <div class="password-section">
            <div class="form-group">
              <label>Ancien mot de passe</label>
              <input type="password" formControlName="oldPassword" />
            </div>

            <div class="form-group">
              <label>Nouveau mot de passe</label>
              <input type="password" formControlName="newPassword" />
            </div>
          </div>
        }

        <button type="submit" [disabled]="editForm.invalid" class="submit-btn">
          Enregistrer les modifications
        </button>
      </form>
    </div>
  </div>
</div>
